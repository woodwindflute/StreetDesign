!(function (t, e) { if (typeof exports === 'object' && typeof module === 'object')module.exports = e(); else if (typeof define === 'function' && define.amd)define([], e); else { const i = e(); for (const a in i)(typeof exports === 'object' ? exports : t)[a] = i[a] } }(self, function () { return t = { 631: t => { const e = [new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2()]; function i (t, i, a, n) { const s = 1 / n; const r = 1 / a; return e[0].set(s * i, r * t + r), e[1].set(s * i, r * t), e[2].set(s * i + s, r * t), e[3].set(s * i + s, r * t + r), e }AFRAME.registerComponent('atlas-uvs', { dependencies: ['geometry'], schema: { totalColumns: { type: 'int', default: 1 }, totalRows: { type: 'int', default: 1 }, column: { type: 'int', default: 1 }, row: { type: 'int', default: 1 } }, update: function () { const t = this.data; const e = i(t.row - 1, t.column - 1, t.totalRows, t.totalColumns); const a = this.el.getObject3D('mesh').geometry; const n = new Float32Array([e[0].x, e[0].y, e[3].x, e[3].y, e[1].x, e[1].y, e[2].x, e[2].y]); a.setAttribute('uv', new THREE.BufferAttribute(n, 2)), a.uvsNeedUpdate = !0 } }), AFRAME.registerComponent('dynamic-texture-atlas', { schema: { canvasId: { default: 'dynamicAtlas' }, canvasHeight: { default: 1024 }, canvasWidth: { default: 1024 }, debug: { default: !1 }, numColumns: { default: 8 }, numRows: { default: 8 } }, multiple: !0, init: function () { const t = this.canvas = document.createElement('canvas'); t.id = this.data.canvasId, t.height = this.data.canvasHeight, t.width = this.data.canvasWidth, this.ctx = t.getContext('2d'), document.body.appendChild(t), this.data.debug && (t.style.left = 0, t.style.top = 0, t.style.position = 'fixed', t.style.zIndex = 9999999999) }, drawTexture: function (t, e, a, n, s) { const r = this.canvas; const o = this.data; t.complete || (t.onload = () => { this.drawTexture(t, e, a) }); const l = s || r.height / o.numRows; const d = n || r.width / o.numColumns; return this.ctx.drawImage(t, d * e, d * a, d, l), i(e, a, o.numRows, o.numColumns) } }), t.exports.getGridUvs = i }, 485: () => { if (typeof AFRAME === 'undefined') throw new Error('Component attempted to register before AFRAME was available.'); const t = {}; const e = {}; AFRAME.registerComponent('gltf-part-plus', { schema: { buffer: { default: !0 }, part: { type: 'string' }, src: { type: 'asset' }, resetPosition: { default: !1 } }, init: function () { this.dracoLoader = document.querySelector('a-scene').systems['gltf-model'].getDRACOLoader() }, update: function () { const t = this.el; const e = this.data; !this.data.part && this.data.src || this.getModel(function (i) { i && (e.resetPosition && (t.setAttribute('position', i.position.x + ' ' + i.position.y + ' ' + i.position.z), i.position.set(0, 0, 0)), t.setObject3D('mesh', i), t.emit('model-loaded', { format: 'gltf', part: this.modelPart })) }) }, getModel: function (i) { const a = this; if (!e[this.data.src]) return t[this.data.src] ? t[this.data.src].then(function (t) { i(a.selectFromModel(t)) }) : void (t[this.data.src] = new Promise(function (n) { const s = new THREE.GLTFLoader(); a.dracoLoader && s.setDRACOLoader(a.dracoLoader), s.load(a.data.src, function (s) { const r = s.scene || s.scenes[0]; e[a.data.src] = r, delete t[a.data.src], i(a.selectFromModel(r)), n(r) }, function () {}, console.error) })); i(this.selectFromModel(e[this.data.src])) }, selectFromModel: function (t) { let e, i; if (i = t.getObjectByName(this.data.part)) return e = i.getObjectByProperty('type', 'Mesh').clone(!0), this.data.buffer ? (e.geometry = e.geometry.toNonIndexed(), e) : (e.geometry = (new THREE.Geometry()).fromBufferGeometry(e.geometry), e); console.error('[gltf-part] `' + this.data.part + '` not found in model.') } }), AFRAME.registerComponent('model-center', { schema: { bottomAlign: { default: !1 } }, init: function () { this.el.addEventListener('model-loaded', t => { const e = this.el.getObject3D('mesh'); if (e.position.set(0, 0, 0), e.geometry.center(), this.data.bottomAlign) { const i = (new THREE.Box3()).setFromObject(e); const a = i.max.sub(i.min).y; e.position.y = a / 2 } }) } }), AFRAME.registerComponent('anisotropy', { schema: { default: 0 }, dependencies: ['material', 'geometry'], init: function () { this.maxAnisotropy = this.el.sceneEl.renderer.capabilities.getMaxAnisotropy(), ['model-loaded', 'materialtextureloaded'].forEach(t => this.el.addEventListener(t, () => { const t = this.el.getObject3D('mesh'); let e = this.data; (e = +e || 0) === 0 && (e = this.maxAnisotropy), t.traverse(t => { !0 === t.isMesh && t.material.map !== null && (t.material.map.anisotropy = e, t.material.map.needsUpdate = !0) }) }, !1)) } }), AFRAME.registerComponent('instancedmesh', { schema: { retainParent: { default: !1 }, retainChildren: { default: !1 }, inheritMat: { default: !0 }, mergeInstances: { default: !1 }, frustumCulled: { default: !0 } }, init: function () {}, update: function () { let t; let e; let i; let a; const n = this.el; const s = this.el.children; let r = 0; const o = (t = new THREE.Vector3(), e = new THREE.Euler(), i = new THREE.Vector3(), a = new THREE.Quaternion(), function (s, r) { t.x = n.children[s].object3D.position.x, t.y = n.children[s].object3D.position.y, t.z = n.children[s].object3D.position.z, e.x = n.children[s].object3D.rotation.x, e.y = n.children[s].object3D.rotation.y, e.z = n.children[s].object3D.rotation.z, a.setFromEuler(e), i.x = n.children[s].object3D.scale.x, i.y = n.children[s].object3D.scale.y, i.z = n.children[s].object3D.scale.z, r.compose(t, a, i) }); for (const l of s)r += 1; const d = this.el.getObject3D('mesh'); if (d) { const c = d.material.clone(); let m = null; d.traverse(function (t) { !0 === t.isMesh && (m = t.geometry) }); for (var u = new THREE.InstancedMesh(m, c, r), p = 0; p < r; p++) { const h = new THREE.Matrix4(); o(p, h), u.setMatrixAt(p, h) }u.frustumCulled = this.data.frustumCulled, this.el.object3D.add(u), this.data.retainParent || this.el.object3D.remove(d), this.data.inheritMat && (this.el.components.material.material = c) } else this.el.addEventListener('model-loaded', t => { this.update(this.data) }) } }) }, 844: (t, e, i) => { const a = i(199); const n = i(394); const s = { suffix: '-t1' }; const r = { 'bike-lane': 1.8, 'drive-lane': 3, divider: 0.3, 'parking-lane': 3, sidewalk: 3, 'sidewalk-tree': 3, 'turn-lane': 3, 'bus-lane': 3, 'light-rail': 3, streetcar: 3, 'sidewalk-wayfinding': 3, 'sidewalk-lamp': 3, 'sidewalk-bike-rack': 3, 'sidewalk-bench': 3, 'scooter-drop-zone': 3, scooter: 1.8, bikeshare: 3, 'flex-zone-curb': 3, 'transit-shelter': 3 }; function o (t) { for (let e = t.objectMixinId, i = void 0 === e ? '' : e, a = t.parentEl, n = void 0 === a ? null : a, s = t.step, r = void 0 === s ? 15 : s, o = t.radius, l = void 0 === o ? 60 : o, d = t.rotation, c = void 0 === d ? '0 0 0' : d, m = t.positionXYString, u = void 0 === m ? '0 0' : m, p = t.randomY, h = void 0 !== p && p, g = -1 * l; g <= l; g += r) { const f = document.createElement('a-entity'); f.setAttribute('class', i), f.setAttribute('position', u + ' ' + g), f.setAttribute('mixin', i), h ? f.setAttribute('rotation', '0 ' + Math.floor(361 * Math.random()) + ' 0') : f.setAttribute('rotation', c), n.append(f) } } function l (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'stencils-parent'), e.setAttribute('position', t), e } function d (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'track-parent'), e.setAttribute('position', t + ' -0.2 0'), e } function c (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'safehit-parent'), e.setAttribute('position', t + ' 0 0'), e } function m (t) { return t === 'colored' ? 'surface-red bus-lane' : t === 'grass' ? 'surface-green bus-lane' : 'bus-lane' } function u (t, e, i) { const a = t[0] === 'inbound' ? 0 : 180; const n = document.createElement('a-entity'); return n.setAttribute('class', e), n.setAttribute('position', i + ' 0 0'), n.setAttribute('rotation', '0 ' + a + ' 0'), n.setAttribute('mixin', e), n } function p (t, e) { const i = document.createElement('a-entity'); const a = 90 * t; const n = document.createElement('a-entity'); n.setAttribute('class', 'bus'), n.setAttribute('position', e + ' 1.4 0'), n.setAttribute('rotation', '0 ' + a + ' 0'), n.setAttribute('mixin', 'bus'), i.append(n); const s = document.createElement('a-entity'); return s.setAttribute('class', 'bus-shadow'), s.setAttribute('position', e + ' 0.01 0'), s.setAttribute('rotation', '-90 ' + a + ' 0'), s.setAttribute('mixin', 'bus-shadow'), i.append(s), i } function h (t, e, i) { let a; let n; const s = document.createElement('a-entity'); return n = document.createElement('a-entity'), a = t[0] === 'inbound' ? 0 : 180, n.setAttribute('class', 'car'), n.setAttribute('position', e + ' 0 0'), n.setAttribute('rotation', '0 ' + a + ' 0'), n.setAttribute('mixin', 'car'), s.append(n), n = document.createElement('a-entity'), a = t[0] === 'inbound' ? -90 : 90, (n = document.createElement('a-entity')).setAttribute('class', 'car-shadow'), n.setAttribute('position', e + ' 0.01 0'), n.setAttribute('rotation', '-90 ' + a + ' 0'), n.setAttribute('mixin', 'car-shadow'), s.append(n), s } function g (t) { let e; const i = document.createElement('a-entity'); return (e = document.createElement('a-entity')).setAttribute('position', t + ' 1 0'), e.setAttribute('mixin', 'wayfinding-box'), i.append(e), (e = document.createElement('a-entity')).setAttribute('position', t + ' 1.2 0.06'), e.setAttribute('geometry', 'primitive: plane; width: 0.8; height: 1.6'), e.setAttribute('material', 'src:#wayfinding-map'), i.append(e), (e = document.createElement('a-entity')).setAttribute('position', t + ' 1.2 -0.06'), e.setAttribute('rotation', '0 180 0'), e.setAttribute('geometry', 'primitive: plane; width: 0.8; height: 1.6'), e.setAttribute('material', 'src:#wayfinding-map'), i.append(e), i } function f (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'bench-parent'), e.setAttribute('position', t + ' 0 3.5'), e } function b (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'bikerack-parent'), e.setAttribute('position', t + ' 0 -3.5'), e } function x (t, e) { const i = document.createElement('a-entity'); i.setAttribute('class', 'bikeshare'), i.setAttribute('position', t + ' 0 0'), i.setAttribute('mixin', 'bikeshare'); const a = e[0] === 'left' ? 90 : 270; return i.setAttribute('rotation', '0 ' + a + ' 0'), i } function y (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'tree-parent'), e.setAttribute('position', t + ' 0 7'), e } function v (t) { const e = document.createElement('a-entity'); return e.setAttribute('class', 'lamp-parent'), e.setAttribute('position', t + ' 0 0'), e } function w (t, e, i) { const a = document.createElement('a-entity'); return a.setAttribute('class', 'bus-stop'), a.setAttribute('position', t + 0.75 * e + ' 0 0'), a.setAttribute('rotation', '-90 ' + i + ' 0'), a.setAttribute('mixin', 'bus-stop'), a } function A (t, e, i, a, n) { const r = document.createElement('a-entity'); return r.setAttribute('scale', t + ' 1 1'), r.setAttribute('position', e + ' ' + i + ' 0'), r.setAttribute('rotation', '270 ' + a + ' 0'), r.setAttribute('mixin', n + s.suffix), r }t.exports.processSegments = function (t, e) { e && (t = (function (t) { function e (t) { return t.slice(t.length - 4) === 'lane' || t === 'light-rail' || t === 'streetcar' } return t.reduce(function (t, i, a, n) { if (a === 0) return t.concat(i); const s = n[a - 1]; if (e(i.type) && e(s.type)) { let r = 'solid'; i.type === s.type && (r = 'dashed'), (i.type === 'drive-lane' && s.type === 'turn-lane' || s.type === 'drive-lane' && i.type === 'turn-lane') && (r = 'dashed'), i.variantString.split('|')[0] !== s.variantString.split('|')[0] && (r = 'doubleyellow', i.type === 'bike-lane' && s.type === 'bike-lane' && (r = 'shortdashedyellow')), i.type === 'turn-lane' && i.variantString.split('|')[1] === 'shared' ? r = 'soliddashedyellow' : s.type === 'turn-lane' && s.variantString.split('|')[1] === 'shared' && (r = 'soliddashedyellowinverted'), t.push({ type: 'separator', variantString: r, width: 0 }) } return (e(i.type) && s.type === 'divider' || e(s.type) && i.type === 'divider') && t.push({ type: 'separator', variantString: 'solid', width: 0 }), t.push(i), t }, []) }(t))); const i = (function (t) { const e = document.createElement('a-entity'); const i = 0 - n.calcStreetWidth(t) / 2; return e.setAttribute('position', i + ' 0 0'), e }(t)); i.classList.add('street-parent'); for (var s, _ = 0, E = 0; E < t.length; E++) { const S = document.createElement('a-entity'); S.classList.add('segment-parent-' + E); const M = t[E].type; const k = 0.3048 * t[E].width; let j = k / r[M]; const R = (_ += k) - 0.5 * k; let C = 0; const I = t[E].variantString.split('|'); let L = I[0] === 'inbound' ? 180 : 0; const B = I[0] === 'outbound' ? 1 : -1; let T = t[E].type; if (t[E].type === 'drive-lane' && I[1] === 'sharrow') { const D = l(R + ' 0.015 0'); o({ objectMixinId: 'stencils sharrow', parentEl: D, rotation: '-90 ' + L + ' 0', step: 10, radius: 70 }), S.append(D) } else if (t[E].type === 'bike-lane' || t[E].type === 'scooter') { const O = l(R + ' 0.015 0'); T = (s = I[1]) === 'red' ? 'surface-red bike-lane' : s === 'green' ? 'surface-green bike-lane' : 'bike-lane', o({ objectMixinId: 'stencils bike-lane', parentEl: O, rotation: '-90 ' + L + ' 0', step: 20, radius: 70 }), S.append(O) } else if (t[E].type === 'light-rail' || t[E].type === 'streetcar') { T = m(I[1]); var F = t[E].type === 'streetcar' ? 'trolley' : 'tram'; S.append(u(I, F, R)); const P = d(R); o({ objectMixinId: 'track', parentEl: P, step: 20.25, radius: 80 }), S.append(P) } else if (t[E].type === 'turn-lane') { T = 'drive-lane'; let N = I[1]; I[0] === 'inbound' && (N = N.replace(/left|right/g, function (t) { return t === 'left' ? 'right' : 'left' })), I[1] === 'shared' && (N = 'left'), I[1] === 'left-right-straight' && (N = 'all'); const H = 'stencils ' + N; const U = l(R + ' 0.015 0'); if (o({ objectMixinId: H, parentEl: U, rotation: '-90 ' + L + ' 0', step: 15, radius: 70 }), S.append(U), I[1] === 'shared') { const J = l(R + ' 0.015 ' + -3 * B); o({ objectMixinId: H, parentEl: J, rotation: '-90 ' + (L + 180) + ' 0', step: 15, radius: 70 }), S.append(J) } } else if (t[E].type === 'divider' && I[0] === 'bollard') { T = 'divider'; const z = c(R); o({ objectMixinId: 'safehit', parentEl: z, step: 4, radius: 70 }), S.append(z) } else if (t[E].type === 'bus-lane') { T = m(I[1]), S.append(p(B, R)); let G = void 0; o({ objectMixinId: 'stencils word-bus', parentEl: G = l(R + ' 0.015 0'), rotation: '-90 ' + L + ' 0', step: 50, radius: 70 }), S.append(G), o({ objectMixinId: 'stencils word-taxi', parentEl: G = l(R + ' 0.015 10'), rotation: '-90 ' + L + ' 0', step: 50, radius: 70 }), S.append(G), o({ objectMixinId: 'stencils word-only', parentEl: G = l(R + ' 0.015 20'), rotation: '-90 ' + L + ' 0', step: 50, radius: 70 }), S.append(G) } else if (t[E].type === 'drive-lane')S.append(h(I, R)); else if (t[E].type === 'sidewalk-wayfinding')S.append(g(R)); else if (t[E].type === 'sidewalk-bench') { const V = f(R); const W = I[0] === 'right' ? -90 : 90; I[0] === 'center' || (o({ objectMixinId: 'bench', parentEl: V, rotation: '0 ' + W + ' 0' }), S.append(V)) } else if (t[E].type === 'sidewalk-bike-rack') { const q = b(R); o({ objectMixinId: 'bikerack', parentEl: q, rotation: '0 ' + (I[1] === 'sidewalk-parallel' ? 90 : 0) + ' 0' }), S.append(q) } else if (t[E].type === 'bikeshare')S.append(x(R, I)); else if (t[E].type === 'sidewalk-tree') { const Y = y(R); o({ objectMixinId: F = I[0] === 'palm-tree' ? 'palm-tree' : 'tree3', parentEl: Y, randomY: !0 }), S.append(Y) } else if (t[E].type !== 'sidewalk-lamp' || I[1] !== 'modern' && I[1] !== 'pride') if (t[E].type === 'sidewalk-lamp' && I[1] === 'traditional') { const X = v(R); o({ objectMixinId: 'lamp-traditional', parentEl: X }), S.append(X) } else if (t[E].type === 'transit-shelter') { const K = I[0] === 'right' ? 0 : 180; const Q = I[0] === 'right' ? 1 : -1; S.append(w(R, Q, K)) } else t[E].type === 'separator' && I[0] === 'dashed' ? (T = 'markings dashed-stripe', C += 0.01, j = 1) : t[E].type === 'separator' && I[0] === 'solid' ? (T = 'markings solid-stripe', C += 0.01, j = 1) : t[E].type === 'separator' && I[0] === 'doubleyellow' ? (T = 'markings solid-doubleyellow', C += 0.01, j = 1) : t[E].type === 'separator' && I[0] === 'shortdashedyellow' ? (T = 'markings yellow short-dashed-stripe', C += 0.01, j = 1) : t[E].type === 'separator' && I[0] === 'soliddashedyellow' ? (T = 'markings yellow solid-dashed', C += 0.01, j = 1) : t[E].type === 'separator' && I[0] === 'soliddashedyellowinverted' ? (T = 'markings yellow solid-dashed', C += 0.01, j = 1, L = '180') : t[E].type === 'parking-lane' && (T = 'drive-lane'); else { const $ = v(R); o({ objectMixinId: 'lamp-modern', parentEl: $, rotation: '0 ' + (I[0] === 'right' ? -90 : 90) + ' 0' }), S.append($), I[0] === 'both' && o({ objectMixinId: 'lamp-modern', parentEl: $, rotation: '0 -90 0' }), I[1] !== 'pride' || I[0] !== 'right' && I[0] !== 'both' || o({ objectMixinId: 'pride-flag', parentEl: $, positionXYString: '0.409 3.345' }), I[1] !== 'pride' || I[0] !== 'left' && I[0] !== 'both' || o({ objectMixinId: 'pride-flag', parentEl: $, rotation: '0 -180 0', positionXYString: '-0.409 3.345' }) }a.isSidewalk(t[E].type) && (T = 'sidewalk'), S.append(A(j, R, C, L, T)), i.append(S) } return i }, t.exports.processBuildings = function (t, e, i, n) { const s = document.createElement('a-entity'); s.classList.add('buildings-parent'); const r = 150; return [t, e].forEach(function (t, e) { if (t.length !== 0) { const l = e === 0 ? 'left' : 'right'; const d = l === 'left' ? -1 : 1; const c = (75 + i / 2) * d; if (n) { const m = JSON.stringify(a.createGroundArray(t)); const u = document.createElement('a-entity'); u.setAttribute('create-from-json', 'jsonString', m), u.setAttribute('position', c + ' 0 0'), u.classList.add('ground-' + l), s.appendChild(u) } if (t === 'narrow' || t === 'wide') { const p = a.createBuildingsArray(r); const h = JSON.stringify(p); const g = document.createElement('a-entity'); g.setAttribute('position', c + -72 * d + ' 0 ' + 75 * d), g.setAttribute('rotation', '0 ' + 90 * d + ' 0'), g.setAttribute('create-from-json', 'jsonString', h), g.classList.add('block-' + l), s.append(g) } if (t === 'residential') { const f = a.createBuildingsArray(r, 'residential'); const b = JSON.stringify(f); const x = document.createElement('a-entity'); x.setAttribute('position', c + -64 * d + ' -0.75 ' + 75 * d), x.setAttribute('rotation', '0 ' + 90 * d + ' 0'), x.setAttribute('create-from-json', 'jsonString', b), x.classList.add('suburbia-' + l), s.append(x) } if (t === 'waterfront') { const y = c - d * r / 2; const v = document.createElement('a-entity'); v.setAttribute('class', 'seawall-parent'), v.setAttribute('position', y + ' 0 10'), v.classList.add('seawall-parent-' + l), s.appendChild(v), o({ objectMixinId: 'seawall', parentEl: v, rotation: '-90 ' + (l === 'right' ? -90 : 90) + ' 0', step: 15, radius: 70 }) } if (t === 'fence' || t === 'parking-lot') { const w = c - d * r / 2; const A = document.createElement('a-entity'); A.setAttribute('class', 'fence-parent'), A.setAttribute('position', w + ' 0 0'), A.classList.add('fence-parent-' + c), o({ objectMixinId: 'fence', parentEl: A, rotation: '0 ' + (l === 'right' ? -90 : 90) + ' 0', step: 9.25, radius: 70 }), s.appendChild(A) } } }), s } }, 234: () => { let t, e; t = !1, e = new THREE.FileLoader(), window.AFRAME.registerElement('streetmix-assets', { prototype: Object.create(window.AFRAME.ANode.prototype, { createdCallback: { value: function () { this.setAttribute('src', ''), this.isAssetItem = !0, this.isAssets = !0, this.fileLoader = e, this.timeout = null } }, attachedCallback: { value: function () { if (!t) { let e; this.parentNode && this.parentNode.hasLoaded && console.warn('Assets have already loaded. streetmix-assets may have problems'), t = !0, this.innerHTML = ((e = this.getAttribute('url')) || (e = 'https://github.3d.st/'), console.log('[street]', 'Using street assets from', e), '\n          \x3c!-- audio --\x3e\n          <audio id="ambientmp3" src="'.concat(e, 'assets/audio/SSL_16_11_AMB_EXT_SF_ALAMO_SQ.mp3" preload="none" crossorigin="anonymous"></audio>\n          <audio id="tram-pass-mp3" src="').concat(e, 'assets/audio/Tram-Pass-By-Fast-shortened.mp3" preload="auto" crossorigin="anonymous"></audio>\n          <audio id="trolley-pass-mp3" src="').concat(e, 'assets/audio/Streetcar-passing.mp3" preload="auto" crossorigin="anonymous"></audio>\n          <audio id="suburbs-mp3" src="').concat(e, 'assets/audio/AMB_Suburbs_Afternoon_Woods_Spring_Small_ST_MKH8050-30shortened_amplified.mp3" preload="none" crossorigin="anonymous"></audio>\n          <audio id="parking-lot-mp3" src="').concat(e, 'assets/audio/Parking_lot_ambience_looping.mp3" preload="none" crossorigin="anonymous"></audio>\n          <audio id="waterfront-mp3" src="').concat(e, 'assets/audio/combined_UKdock4_and_water_pier_underneath_ambience.mp3" preload="none" crossorigin="anonymous"></audio>\n          <audio id="suburbs2-mp3" src="').concat(e, 'assets/audio/AMB_Suburbs_Spring_Day_Lawnmowers_Birds_MS_ST_MKH8050-30shortened.mp3" preload="none" crossorigin="anonymous"></audio>\n  \n          \x3c!-- sidewalk props --\x3e\n          <a-asset-item id="treemodel3" src="').concat(e, 'assets/objects/SM_Env_Tree_03.gltf"></a-asset-item>\n          <a-asset-item id="palmtreemodel" src="').concat(e, 'assets/objects/PalmTree.gltf"></a-asset-item>\n          <a-asset-item id="benchmodel" src="').concat(e, 'assets/objects/SM_Prop_ParkBench_02.gltf"></a-asset-item>\n          <a-asset-item id="bikerackmodel" src="').concat(e, 'assets/objects/bikerack.glb"></a-asset-item>\n          <a-asset-item id="bikesharemodel" src="').concat(e, 'assets/objects/bikeshare.glb"></a-asset-item>\n          <a-asset-item id="lamp-modern-glb" src="').concat(e, 'assets/objects/lamp-post-modern-centered.glb"></a-asset-item>\n          <a-asset-item id="lamp-traditional-glb" src="').concat(e, 'assets/objects/lamp-post-traditional.glb"></a-asset-item>\n          <a-asset-item id="bus-stop-glb" src="').concat(e, 'assets/objects/ccFO2EGGIq9-bus-stop.glb"></a-asset-item>\n          <img id="wayfinding-map" src="').concat(e, 'assets/objects/wayfinding.jpg" crossorigin="anonymous" />\n  \n          \x3c!-- vehicles --\x3e\n          <a-asset-item id="trammodel" src="').concat(e, 'assets/objects/tram_siemens_avenio.gltf"></a-asset-item>\n          <a-asset-item id="trolleymodel" src="').concat(e, 'assets/objects/godarvilletram.gltf"></a-asset-item>\n          <a-asset-item id="xd40" src="').concat(e, 'assets/objects/bus/xd40-draco.glb"></a-asset-item>\n          <a-asset-item id="carmodel" src="').concat(e, 'assets/objects/SM_Veh_Car_Sedan_01.gltf"></a-asset-item>\n  \n          \x3c!-- blocks --\x3e\n          <a-asset-item id="blockmodel" src="').concat(e, 'assets/objects/buildings.glb"></a-asset-item>\n          <a-asset-item id="suburbiamodel" src="').concat(e, 'assets/objects/suburbia/suburbia-fixwindowuvs-only3-draco.glb"></a-asset-item>\n  \n          <a-asset-item id="fence-model" src="').concat(e, 'assets/objects/fence4/fence4.gltf"></a-asset-item>\n          <a-asset-item id="seawall-model" src="').concat(e, 'assets/objects/seawall.gltf"></a-asset-item>\n  \n          \x3c!-- lane objects --\x3e\n          <a-asset-item id="trackmodel" src="').concat(e, 'assets/objects/track.gltf"></a-asset-item>\n          <a-asset-item id="flexiguide-glb" src="').concat(e, 'assets/objects/flexiguide300.glb"></a-asset-item>\n          <img id="stencils-atlas" src="').concat(e, 'assets/materials/stencils-atlas_2048.png" crossorigin="anonymous" />\n          <img id="markings-atlas" src="').concat(e, 'assets/materials/lane-markings-atlas_1024.png" crossorigin="anonymous" />\n  \n          \x3c!-- optimized textures - used by default --\x3e\n          <img id="seamless-road" src="').concat(e, 'assets/materials/TexturesCom_Roads0086_1_seamless_S_rotate.jpg" crossorigin="anonymous">\n          <img id="hatched-base" src="').concat(e, 'assets/materials/hatched_Base_Color.jpg" crossorigin="anonymous">\n          <img id="hatched-normal" src="').concat(e, 'assets/materials/hatched_Normal.jpg" crossorigin="anonymous">\n          <img id="seamless-sidewalk" src="').concat(e, 'assets/materials/TexturesCom_FloorsRegular0301_1_seamless_S.jpg" crossorigin="anonymous">\n          <a-mixin id="drive-lane-t1" geometry="width:3;height:150;primitive:plane" material="repeat:0.3 25;offset:0.55 0;src:#seamless-road;"></a-mixin>\n          <a-mixin id="bike-lane-t1" geometry="width:1.8;height:150;primitive:plane" material="repeat:0.3 25;offset:0.55 0;roughness:1;metalness:0;src:#seamless-road;"></a-mixin>\n          <a-mixin id="sidewalk-t1" anisotropy geometry="width:3;height:150;primitive:plane" material="repeat:1.5 75;src:#seamless-sidewalk;"></a-mixin>\n          <a-mixin id="bus-lane-t1" geometry="width:3;height:150;primitive:plane" material="repeat:0.3 25;offset:0.55 0;src:#seamless-road;"></a-mixin>\n          <a-mixin id="divider-t1" geometry="width:0.3;height:150;primitive:plane" material="repeat:1 150;offset:0.415 0;normalTextureOffset:0.415 0;src:#hatched-base;normalTextureRepeat:0.21 150;normalMap:#hatched-normal"></a-mixin>\n          <a-mixin id="safehit" gltf-model="#flexiguide-glb" scale="1 1 1"></a-mixin>\n  \n          \x3c!-- lane separator markings atlas --\x3e\n          <a-mixin id="markings" anisotropy atlas-uvs="totalRows: 1; totalColumns: 8; row: 1" scale="1 1 1" material="src: #markings-atlas;alphaTest: 0;transparent:true;repeat:1 25;" geometry="primitive: plane; buffer: false; skipCache: true; width:0.2; height:150;"></a-mixin>\n          <a-mixin id="solid-stripe-t1" atlas-uvs="column: 3"></a-mixin>\n          <a-mixin id="dashed-stripe-t1" atlas-uvs="column: 4"></a-mixin>\n          <a-mixin id="short-dashed-stripe-t1" atlas-uvs="column: 4" material="repeat:1 50;"></a-mixin>\n          <a-mixin id="solid-doubleyellow-t1" atlas-uvs="totalColumns: 4; column: 3" geometry="width: 0.5"></a-mixin>\n          <a-mixin id="solid-dashed-t1" atlas-uvs="totalColumns: 4; column: 2" geometry="width: 0.4"></a-mixin>\n  \n          \x3c!-- color modifier mixins --\x3e\n          <a-mixin id="yellow" material="color:#f7d117"></a-mixin>\n          <a-mixin id="surface-green" material="color:#adff83"></a-mixin>\n          <a-mixin id="surface-red" material="color:#ff9393"></a-mixin>\n  \n          \x3c!-- stencils atlas --\x3e\n          <a-mixin id="stencils" anisotropy atlas-uvs="totalRows: 4; totalColumns: 4" scale="2 2 2" material="src: #stencils-atlas;alphaTest: 0;transparent:true;" geometry="primitive: plane; buffer: false; skipCache: true"></a-mixin>\n          <a-mixin id="right" atlas-uvs="column: 3; row: 2"></a-mixin>\n          <a-mixin id="left" atlas-uvs="column: 3; row: 3"></a-mixin>\n          <a-mixin id="both" atlas-uvs="column: 2; row: 1"></a-mixin>\n          <a-mixin id="all" atlas-uvs="column: 3; row: 1"></a-mixin>\n          <a-mixin id="left-straight" atlas-uvs="column: 2; row: 3"></a-mixin>\n          <a-mixin id="right-straight" atlas-uvs="column: 2; row: 2"></a-mixin>\n          <a-mixin id="straight" atlas-uvs="column: 2; row: 4"></a-mixin>\n          <a-mixin id="sharrow" atlas-uvs="totalRows: 4; totalColumns: 8; column: 2; row: 3" scale="1.5 3 1"></a-mixin>\n          <a-mixin id="bike-lane" atlas-uvs="totalRows: 2; totalColumns: 8; column: 1; row: 2" scale="1 4 1"></a-mixin>\n          <a-mixin id="word-bus" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 4" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-lane" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 4" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-taxi" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 3" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-only" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 3" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-yield" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 2" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-slow" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 2" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-xing" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 1" scale="3 3 3"></a-mixin>\n          <a-mixin id="word-stop" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 1" scale="3 3 3"></a-mixin>\n          <a-mixin id="perpendicular-stalls" atlas-uvs="totalRows: 4; totalColumns: 8; column: 5; row: 4" scale="5 10 5"></a-mixin>\n          <a-mixin id="parking-delimiter" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 7" scale="1.8 1.8 1.8"></a-mixin>\n  \n          \x3c!-- vehicles --\x3e\n          <a-mixin id="bus" anisotropy gltf-model="#xd40" scale="1.55 1.55 1.55"></a-mixin>\n          <a-mixin id="car" gltf-model="#carmodel"></a-mixin>\n          <a-mixin id="tram" anisotropy gltf-model="#trammodel" sound="src: #tram-pass-mp3;positional:false;volume: 0.4"></a-mixin>\n          <a-mixin id="trolley" gltf-model="#trolleymodel" sound="src: #trolley-pass-mp3;positional:false;volume: 0.4"scale="1 1 1"></a-mixin>\n\n          <img id="shadow-texture" src="').concat(e, 'assets/materials/bus-shadow.png" crossorigin="anonymous">\n          <a-mixin id="bus-shadow" geometry="width: 12; height: 3; primitive: plane"  material="src: #shadow-texture; alphaTest: 0;transparent:true; roughness: 1;" ></a-mixin>\n          <a-mixin id="car-shadow" geometry="width: 4.7; height: 2.5; primitive: plane"  material="src: #shadow-texture; alphaTest: 0;transparent:true; roughness: 1;" ></a-mixin>\n  \n          \x3c!-- street props --\x3e\n          <a-mixin id="tree3" gltf-model="#treemodel3" scale="1.25 1.25 1.25"></a-mixin>\n          <a-mixin id="palm-tree" gltf-model="#palmtreemodel" scale="1 1.5 1"></a-mixin>\n          <a-mixin id="bench" gltf-model="#benchmodel" scale="1 1 1"></a-mixin>\n          <a-mixin id="track" gltf-model="#trackmodel" scale="1 1 1"></a-mixin>\n          <a-mixin id="bikerack" gltf-model="#bikerackmodel" scale="0.25 0.25 0.25"></a-mixin>\n          <a-mixin id="bikeshare" gltf-model="#bikesharemodel" scale="1 1 1"></a-mixin>\n          <a-mixin id="lamp-modern" gltf-model="#lamp-modern-glb" scale="0.5 0.5 0.5"></a-mixin>\n          <a-mixin id="lamp-traditional" gltf-model="#lamp-traditional-glb" scale="0.2 0.2 0.2" ></a-mixin>\n          <a-mixin id="pride-flag" position="0.409 3.345 0" rotation="0 0 0" scale="0.5 0.75 0" geometry="width:2;height:2;primitive:plane" material="side:double; src:').concat(e, 'assets/materials/rainbow-flag-poles_512.png;transparent: true;"></a-mixin>\n          <a-mixin id="bus-stop" gltf-model="#bus-stop-glb" rotation="-90 0 0" scale="0.001 0.001 0.001" ></a-mixin>\n          <a-mixin id="wayfinding-box" geometry="primitive: box; height: 2; width: 0.84; depth: 0.1" material="color: gray"></a-mixin>\n  \n          \x3c!-- buildings and blocks --\x3e\n          <a-mixin id="block" gltf-model="#blockmodel" scale="1 1 1"></a-mixin>\n          <a-mixin id="suburbia" gltf-model="#suburbiamodel" scale="1 1 1"></a-mixin>\n  \n          <a-mixin id="SM3D_Bld_Mixed_Corner_4fl" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #blockmodel; part: SM3D_Bld_Mixed_Corner_4fl" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM3D_Bld_Mixed_Double_5fl" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #blockmodel; part: SM3D_Bld_Mixed_Double_5fl" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM3D_Bld_Mixed_4fl_2" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #blockmodel; part: SM3D_Bld_Mixed_4fl_2" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM3D_Bld_Mixed_5fl" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #blockmodel; part: SM3D_Bld_Mixed_5fl" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM3D_Bld_Mixed_4fl" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #blockmodel; part: SM3D_Bld_Mixed_4fl" model-center="bottomAlign: true"></a-mixin>\n  \n          <a-mixin id="SM_Bld_House_Preset_03_1800" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #suburbiamodel; part: SM_Bld_House_Preset_03_1800" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM_Bld_House_Preset_08_1809" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #suburbiamodel; part: SM_Bld_House_Preset_08_1809" model-center="bottomAlign: true"></a-mixin>\n          <a-mixin id="SM_Bld_House_Preset_09_1845" scale="1 1 1" rotation="0 0 0" gltf-part-plus="src: #suburbiamodel; part: SM_Bld_House_Preset_09_1845" model-center="bottomAlign: true"></a-mixin>\n  \n          <a-mixin id="seawall" gltf-model="#seawall-model" scale="1 1 1" rotation="0 0 0"></a-mixin>\n          <a-mixin id="fence" gltf-model="#fence-model" scale="0.1 0.1 0.1"></a-mixin>\n  \n          \x3c!-- grounds --\x3e\n          <img id="grass-texture" src="').concat(e, 'assets/materials/TexturesCom_Grass0052_1_seamless_S.jpg" crossorigin="anonymous">\n          <img id="parking-lot-texture" src="').concat(e, 'assets/materials/TexturesCom_Roads0111_1_seamless_S.jpg" crossorigin="anonymous">\n          <img id="asphalt-texture" src="').concat(e, 'assets/materials/TexturesCom_AsphaltDamaged0057_1_seamless_S.jpg" crossorigin="anonymous">\n\n          <a-mixin id="ground-grass" rotation="-90 0 0" geometry="primitive:plane;height:150;width:150" material="src:#grass-texture;repeat:5 5;roughness:1"></a-mixin>\n          <a-mixin id="ground-parking-lot" rotation="-90 0 0" geometry="primitive:plane;height:150;width:150" material="src:#parking-lot-texture;repeat:2 4;roughness:1"></a-mixin>\n          <a-mixin id="ground-asphalt" rotation="-90 0 0" geometry="primitive:plane;height:150;width:150" material="src:#asphalt-texture;repeat:5 5;roughness:1"></a-mixin>\n  \n          \x3c!-- ui / future use --\x3e\n          <img id="subtitle" src="').concat(e, 'assets/materials/subtitle.png" crossorigin="anonymous" />\n  ')); const i = this.parentNode; this.setAttribute('timeout', i.getAttribute('timeout')), this.parentNode.isScene = !0, Object.getPrototypeOf(i).attachedCallback.call(this), this.parentNode.isScene = !1 } } }, load: { value: function () { AFRAME.ANode.prototype.load.call(this, null, function (t) { return t.isAssetItem && t.hasAttribute('src') }) } } }) }), window.addEventListener('DOMContentLoaded', function (e) { if (!t) { let i = document.querySelector('a-assets'); i || (i = document.createElement('a-assets')), i.hasLoaded && console.warn('Assets already loaded. May lead to bugs'); const a = document.createElement('streetmix-assets'); i.append(a), document.querySelector('a-scene').append(i) } }), document.addEventListener('DOMSubtreeModified', function t (e) { if (e.target.nodeName === 'A-SCENE') { let i = e.target.querySelector('a-assets'); if (i || (i = document.createElement('a-assets'), e.target.append(i)), i.querySelector('streetmix-assets'))document.removeEventListener('DOMSubtreeModified', t); else { const a = document.createElement('streetmix-assets'); i.append(a), document.removeEventListener('DOMSubtreeModified', t) } } }, !1) }, 391: (t, e, i) => { const a = i(334); AFRAME.registerComponent('create-from-json', { schema: { jsonString: { type: 'string', default: '' } }, update: function (t) { const e = this.data; const i = this.el; if (t.string && e.string !== t.string) for (;i.firstChild;)i.removeChild(i.lastChild); a.appendChildElementsFromArray(JSON.parse(e.jsonString), i) } }) }, 579: (t, e, i) => { const a = i(844); const n = i(394); i(234), i(391), i(631), i(485), AFRAME.registerComponent('street', { schema: { JSON: { type: 'string' }, type: { default: 'streetmixSegmentsFeet' }, left: { default: '' }, right: { default: '' }, showGround: { default: !0 }, showStriping: { default: !0 } }, update: function (t) { const e = this.data; if (e.JSON.length !== 0) { const i = JSON.parse(e.JSON); const s = a.processSegments(i.streetmixSegmentsFeet, e.showStriping); if (this.el.append(s), e.left || e.right) { const r = n.calcStreetWidth(i.streetmixSegmentsFeet, e.autoStriping); const o = a.processBuildings(e.left, e.right, r, e.showGround); this.el.append(o) } } else { if (void 0 !== t.JSON && t.JSON.length === 0) return; console.log('[street]', 'No JSON provided yet, but it might be set at runtime') } } }), AFRAME.registerComponent('streetmix-loader', { dependencies: ['street'], schema: { streetmixStreetURL: { type: 'string' }, streetmixAPIURL: { type: 'string' } }, update: function (t) { const e = this.data; const i = this.el; if (e.streetmixAPIURL.length !== 0) { const a = new XMLHttpRequest(); const s = JSON.parse(localStorage.getItem('settings')); const r = s.lastStreetCreatorId; const o = s.lastStreetNamespacedId; streetmixAPIURL = 'https://pure-inlet-10299.herokuapp.com/streets?nam' s p a 'edId="+o+"&' r ea torId="+r,co'sole.log("[streetm'x 'load' r ]","GET "+streetm ixAPIUR'),a'o pen("GET",street mixA PIURL,!0 ) ,a.onloa d= f un ction(){if(t hi s.s ta tus>=200&&t h is.s tscons< t 4 00){var t=JSON.parse(this; const r e sponse),e=t.data.street .segments;i.set'ttribu'e '"stre't ","right",t.data.street.rightBuildin gVariant),i.set'ttribu'e '"str'e t","left",t.data.street.leftBuildin gVariant),i.set'ttribu'e '"str'e '","type","streetmixSe'me ntsFeet"),i.set'ttribu'e '"str'e t","JSON",JSON.s tringify({streetmixSeg m ent s Feet:e}))}else co'sole.log("[streetm'x 'loader]","Loading Error: We reached the target server, but it returne'  an  error")} , a.onerro r= f unction(){co'sole.log("[streetm'x 'loader]","Loading Error: There was a connection error of's om e sort") } ,a.s e nd ()}else{if(e.streetmixStreet U RL .gconst t h >0){var l=n.streetmixUserToAPI(e.streetmixS treetURL);return co'sole.log("[streetm'x 'loader]","setting `streetmix'P IUR L` to",l),void i.set'ttribute("street'i '-loader","stree'm ix APIURL",l)}co'sole.log("[streetm'x 'loader]","Neither `streetmixAPIURL` nor `streetmixStreetURL` properties provided, please provide at 'e a s t  on e.") } }} ) },199:t=>{t.exports. i sSidewal k=f u nction(t){return t.s'artsWith'" si d'walk")||["scooter'd 'op-zone",'b 'keshare","flex'z 'ne-curb","trans't-shelter"].i nc ludes(t)},t.exports.createBuil d ingsArra y= ftlei t; lnt e; const ) { var t,e,i=argume n t s. length >0& &void 0!==ar g uments[0]?ar g ume; const t s [0]:150,a=argume n t s. length >1& &void 0!==ar g uments[1]?ar g 'ments['] a === '"narro' || a ";" 'ow"=' " wi d e" === '?(t=[{id:"SM3D_Bld'M ixed_4 fl",wid th : 5.2 '221},{id:"SM3D_Bld_Mixed_'o uble_5 fl",wid th : 10. '041},{id:"SM3D_Bld_M'x ed_4fl _2",wid th : 5.5 '889},{id:"SM3D_Bld'M ixed_5 fl",wid th : 6.4 '593},{id:"SM3D_Bld_Mixed_'o rner_4 fl",wid th: 6 . '4809}],e="4143132343240243413030323023'1 0 a === '402341"):"r' nt ia l "= ==a '&(t=[{id:"SM_Bld_House_Pres't _03_18 00 ", w idt ':20},{id:"SM_Bld_House_Pres't _08_18 09 ", w idt ':20},{id:"SM_Bld_House_Pres't _09_18 45 ",w i d 'h:20}],e="1202120121010121202120101201'02 120 1210") ; fo r ( va r   n=0 , s =0, r;csnst o < i;){var o=t[parse; const n t ( e[n] '],l={tag'" a-enti ty",m ixin:o.id , p osition : s +.' wid' h/ 2+" 0 0"}; r .p ush(l),s +=o . width,n+ +} return r},t.exports.filterBuildingsAr r ayByMixi n=f un cnconst ( t ,e) {var i=[];return .forEach ((f un c tion(t, a){ t .m ixin===e& &ip u sh (t)})),i},t.exports.removePropert y FromArra y=f un c tion(t,e){return .forEach ((f un c tion(t,i){d elt e  t [e]})),t},t.exports.createClonedEnt i tiesArra y=f u nct ion(t) { for(var  e = t.mixi n,i = v '' d  0 = = =e?"":e , a =t.ste p,n = v oi d  0 = = =a?15:a,s = t .radiu s,r = v oi d  0 = = =s?60:s,o=t . r otatio n,l = v 'id 0=' = o? " 0  0 0":o,d=t.positio n X YStrin g,c = v 'id ' = == d ? "0 0":d,m= t . random Y,u = vo id   0 !== m & &m , p= [ ], h= - 1* r; h const;h + = n){v 'r g={tag'" a-entity" , p ' 'st i on : c+ " "+h};i & &( g.class = i,g .mixin=i), g . r 't 'ai on=u?"0 "+Math . floor(361*randomT e 'ta' l e( ))+" 0":l , p.push(g )} return p},t.exports.getAmbien t SoundJSO N=f u constio n ( t){var 'e={fence:"#s'b urbs-m '3",grass:"#s'b 'rbs-mp3","p'r 'ing-lot":"#parki'g -lot-mp3",w 'terfront:"#'a terfront",re 'idential:"#su'u rbs2-mp '",narrow:"#'m bient 'p3",wide:"#' m; const i e nt; let p 3 "},i= [],a=null;returnt.forEach ((f un c ti on( t, n ){i f(!a| | const=e [ t ]){v 'r s={tag'" a-enti 'y",cla's :"play 'e",s 'on d:"s r ': "+e[t]+"; positional: false; ' oo p: true"}; i . push ( s,a = e[ t]}})),i},t.exports.createG r oundArra y=f u constio n (t; let { v 'r e=[],i="gr'u nd -t === 'rass";if(r'f ront"===t )'eturn '; '"nar'ow","wide"].i nc lu d 's(t)&&(i="grou'd- t === 'sphalt"),"n' g- lo t '===t&&(i="ground-p'rk const n-o t ");v 'r a={tag'" a-entity" 'position'" 0 -0.2   0" ,mixin:i};return  e . pu sh(a ) ,e } },334:t=>{ fun ct i on e(t,(e){retur n f u nc tion(t){if(Array.i sArray(t ))r)e tu (rn t}(t) ||f un c ti odefined"!=typ !== 'undefined' eo f Symbol&&Symbol.iterator in  O constct ( t); let { v ar; let i = []; let a = !0,n=!1 ,s= v oid  0;try{ f o r(var r,o=t[Symbol.it era t or ] ();!(a=(r=o.nex t( )).done)&&(i.push (r .v alue),!e ||i .le n g th!= = e);a= !0) ; } c atc h ( t ) {n=!0,s = t}f i n al {a||nuln == lull == o.return|| o .return ( )} fin ally{if ( n )throw s } }ret u)r n  (i}}(t,e) ||f un c ti on( t ,e )"strin t ===g's"ring'= =typeof t)r etu let nit ,e);var a=Object.prototype.toString.call(t ).sl ice(8, a === '1);ret' bj ect"===a&&t.c on st r uctor&&(a=t.construc r ame 'M)p' ," a === 'ap"' | "Set"===a?Arr a a === '.from(t):' me nts"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array $ /.te st ( a)?i(t , e):v o)i d  (0}}(t,e) || f unction(){throw new 'ypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]')  m)e t hod.")}()} fun ct i oe == n i( ){ ( n ull==e||e >t .l e ngth)&&(e= t.l ength) ; fo r ( var i=0,a=new   A rr ay(e);i< e ;i++) a[i]=t[i ] ;return a} fu n conston   a(){var t=argume n t s. length >0& &void 0!==ar g uments[0]?ar g um; const n t s[0]:{},i=document.createEleme nt(t.tag);del ete  let .a; fo r ( var a=0,n=Object.e n t ries(t);a <n.l e consth; a ++){var  s; const e ( n[a]; const 2 ) ,r=s[ 0],o=s[1];i.setAt tr i bute(r,o )}return i}t.exports.createElement F ro mObject=a,t.exports.appendChildElement s FromArra y= f constti o n(){var t=argume n t s. length >0& &void 0!==ar g uments[0]?ar g um; const n t s[0]:[],e=argume n t s .length>1?ar g uments[ 1]:void 0;returnt.forEach ((f un c tion(t,i){e.appendC hld ( a (t ))}) ) ,e } },394:t=>{t.exports.streetmi x UserToAP I=f u constio n (t){var e=new URL(t).pathn'm'.; const p l it("; const " ) ,i=e[ 1],a=e i ;re '-' u 'n"-"===i?"https://pure-inlet-10299.herokuapp.com/api/v1/streets?nam' s p a 'edId="+a:"https://pure-inlet-10299.herokuapp.com/api/v1/streets?nam' s p a 'edId="+a+"&' r e at orId="+i},t.exports.pathSta r tsWithAP I=f u constio n (t){var e=document.crea'e'le ment("a");ret u rn t,"api"===e.pathn'm'.spl === 'api' it ("/")[1]},t.exports.streetmi x APIToUse r=f u nction(t){ fun ct i on  elete) { for(var '='.s p l it ( " &"),a=0;a <i.l e consth; a ++){var n=i'a'.s pl it("=");if(decodeURICompo nen t( n[0])===e)return decodeURICompo nent(n[1])}co'sole.log("Query variable %s'n ot   constnd " ,e)}var i=new URL(t).search.su; const s t ring '1),a=e(i,"na'e; let p a cedI '"),n=e(i,'cr eatorId");ret urn   vo id   '='=n '&(n="-"),"https://stre' t m i '.' e t /" +n+"/"+a},t.exports.calcS t reetWidt h=f u letio n (t ){var e=0;returnt.forEach ((f u constio n (t){var  i =t 0.widt h ; e=. 3 0 4 8* i } )), (e}}},e={}, fun c ti on i(a ){if(e[a])return e[a constxp o rts; v a r n=e[a] ={ ex ports:{}};retu rn t[a](n, n.e xports,i) ,n.ex)po let}(5 7 9);
ar t,e}));